FROM ubuntu:20.04
ENV DEBIAN_FRONTEND noninteractve

# install monetdb build dependencies
RUN apt-get update && \
    apt-get install -y cmake python3-dev python3-pip curl

RUN pip3 install --upgrade pip
RUN pip3 install sphinx>=3.1.1 sphinx_rtd_theme numpy pandas

ADD . /code
WORKDIR /code

RUN pip3 install -r doc/requirements.txt
WORKDIR /code/doc
RUN make html